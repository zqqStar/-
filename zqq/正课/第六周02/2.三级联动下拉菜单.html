<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
</body>
<script>
    // 数组>>对象{name,cites数组[name area()]}
    var info = [
        {
            name: "河南",
            cites: [{
                    name: "郑州",
                    area: ["经开区", "管城区", "金水区"]
                },
                {
                    name: "开封",
                    area: ["龙亭区", "禹王台区", "祥符区"]
                },
                {
                    name: "洛阳",
                    area: ["洛龙区", "老城区", "西工区"]
                },
            ]
        }
        ,
        {
            name: "河南1",
            cites: [{
                    name: "郑州1",
                    area: ["经开区1", "管城区1", "金水区1"]
                },
                {
                    name: "开封1",
                    area: ["龙亭区1", "禹王台区", "祥符区"]
                },
                {
                    name: "洛阳1",
                    area: ["洛龙区", "老城区", "西工区"]
                }
            ]
        }
        ,{
            name: "河南3",
            cites: [{
                    name: "郑州3",
                    area: ["经开区3", "管城区", "金水区"]
                },
                {
                    name: "开封3",
                    area: ["龙亭区3", "禹王台区", "祥符区"]
                },
                {
                    name: "洛阳3",
                    area: ["洛龙区3", "老城区", "西工区"]
                },
            ]
        }

    ]

    var provinceSel =document.createElement("select");
    document.body.appendChild(provinceSel);
    info.forEach(function(el,i){
        var opt =document.createElement("option");
        opt.textContent =el.name;
        provinceSel.appendChild(opt);
    });
    var citySel =document.createElement("select");
    document.body.appendChild(citySel);
    var areaSel =document.createElement("select");
    document.body.appendChild(areaSel);

    info[0].cites.forEach(function(el,i){
        var opt =document.createElement("option");
        opt.textContent =el.name;
        citySel.appendChild(opt);
    });
    info[0].cites[0].area.forEach(function(el,i){
        var opt =document.createElement("option");
        opt.textContent =el;
        areaSel.appendChild(opt);
    });
    // 更改
    provinceSel.onchange =function(){
        citySel.innerHTML ="";
        // 因为下面嵌套的对象在二维数组里面  所以要在遍历一次
        info[provinceSel.selectedIndex]
        // 对象 foreach直接遍历对象  可以把要遍历数组中的对象直接找到
        // 作为function的回调返回出来""return"
        .cites.forEach(function(el,i){
            var opt =document.createElement("option");
            opt.textContent =el.name;
            citySel.appendChild(opt);
        });
        // 刷新区
        refreshArea();
    }
    function refreshArea(){
        areaSel.innerHTML ="";
        // 因为下面嵌套的对象在二维数组里面  所以要在遍历一次
        info[provinceSel.selectedIndex]
        .cites[citySel.selectedIndex].area.forEach(function(el,i){
            var opt =document.createElement("option");
            opt.textContent =el;
            areaSel.appendChild(opt);
        });
    }
    citySel.onchange =function(){
        refreshArea();
    }
</script>

</html>